package com.zup.orangeTalents.services;

import java.util.stream.Collectors;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.zup.orangeTalents.entities.Car;
import com.zup.orangeTalents.feign.FipeFeign;

@Service
public class FeignService {

	@Autowired
	private FipeFeign fipe;

	public void findCarPrice(Car car) {
		fipe.getMarcas().stream().filter(x -> x.getNome().equalsIgnoreCase(car.getMarca()))
				.collect(Collectors.collectingAndThen(Collectors.toList(), list -> {
					return list.get(0);
				}));
	}
}
